<div th:insert="~{fragment_projectheader}"></div>
<table class="table table-striped">
	<thead>
    	<tr>
			<th th:text="#{label.project.id}"></th>
			<th></th>
			<th th:text="#{label.project.name}"></th>
			<th th:text="#{label.project.status}"></th>
			<th th:text="#{label.project.location}"></th>
			<th th:text="#{label.project.summary}"></th>
			<th th:text="#{label.project.completeduedate}"></th>
			<th th:text="#{label.project.completedate}"></th>
			<th th:text="#{label.project.operator}"></th>
			<th th:text="#{label.project.progress}"></th>
			<th>control</th>
		</tr>
	</thead>
	<tbody>
		<tr th:each="item : ${list}">
			<td th:text="${item.id}"></td>
			<td>
				<button class="btn btn-secondary edit" th:onclick="|fragment_dutlist_detail('__${item.id}__')|" th:text="#{button.table.detail}">Edit</button>
			</td>
			<td th:text="${item.name}"></td>
			<td th:text="${item.status}"></td>
			<td th:text="${item.location}"></td>
			<td th:text="${item.summary}"></td>
			<td th:text="${item.completeDueDate}"></td>
			<td th:text="${item.completeDate}"></td>
			<td th:text="${item.operator}"></td>
			<td>
				<canvas class="progressbar" th:id="|progress_${item.id}|"></canvas>
			</td>
			<td>
				<button class="btn btn-secondary copy" th:onclick="|fragment_dutlist_copy('__${item.id}__')|" th:text="#{button.table.copy}">Copy</button>
				<button class="btn btn-secondary del" th:onclick="|fragment_dutlist_delete('__${item.id}__')|" th:text="#{button.table.delete}">Delete</button>
			</td>
		</tr>
	</tbody>
</table>

<script type="text/javascript" th:inline="javascript">
	$(function() {
		var list = /*[[${list}]]*/;
		for (var i = 0; i < list.length; i++) {
			var p = list[i];
        	new ProgressBar('progress_' + p.id, p.passed, p.failed, p.untouched);
        }
	});
		
	function fragment_dutlist_detail(id) {
		pageController.mainPage('/admin/fragment_testpointlist?dutid=' + id);
	}
</script>