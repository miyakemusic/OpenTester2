<div th:insert="~{fragment_projectheader}"></div>
<table class="table table-striped">
	<thead>
    	<tr>
			<th></th>
			<th th:text="#{label.project.testpoint}">Test Point</th>
			<th th:text="#{label.project.status}">Status</th>
			<th th:text="#{label.project.summary}">Status</th>
			<th th:text="#{label.project.location}">Status</th>
			<th th:text="#{label.project.completeduedate}">Status</th>
			<th th:text="#{label.project.completedate}">Status</th>
			<th th:text="#{label.project.operator}">Status</th>
			<th th:text="#{label.project.progress}">Progress</th>
			<th>control</th>
		</tr>
	</thead>
	<tbody>
		<tr th:each="item : ${list}">
			<td>
				<button class="btn btn-secondary edit" th:onclick="|fragment_testpointlist_detail('__${item.id}__')|" th:text="#{button.table.detail}">Edit</button>				
			</td>
			<td th:text="${item.name}"></td>
			<td th:text="${item.status}"></td>
			<td th:text="${item.summary}"></td>
			<td th:text="${item.location}"></td>
			<td th:text="${item.completeDueDate}"></td>
			<td th:text="${item.completeDate}"></td>
			<td th:text="${item.operator}"></td>
			<td>
				<canvas class="progressbar" th:id="|progress_${item.id}|"></canvas>
			</td>
			<td>
				<button class="btn btn-secondary copy" th:onclick="|fragment_testpointlist_copy('__${item.id}__')|" th:text="#{button.table.copy}">Copy</button>
				<button class="btn btn-secondary del" th:onclick="|fragment_testpointlist_delete('__${item.id}__')|" th:text="#{button.table.delete}">Delete</button>
			</td>
		</tr>
	</tbody>
</table>

<script type="text/javascript" th:inline="javascript">
	$(function() {
		var list = /*[[${list}]]*/;
		for (var i = 0; i < list.length; i++) {
			var p = list[i];
        	new ProgressBar('progress_' + p.id, p.passed, p.failed, p.untouched);
        }
	});
		
	function fragment_testpointlist_detail(id) {
		pageController.mainPage('/admin/fragment_testitemlist?testpointid=' + id);
	}
</script>