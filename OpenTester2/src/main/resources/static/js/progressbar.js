class ProgressBar {
	constructor(div, passed, failed, untouched) {
		var xlabels           = [""];
		
		// １つ目の系列の情報を設定
		var series01name      = "Pass";                          // 系列１の名前
		var series01data      = [ passed]; // 系列１データ
		var series01bgcolor   = "rgba(0, 255, 0, 0.5)";           // 系列１の塗りつぶし色
		var series01linecolor = "rgba(0, 255, 0, 1.0)";           // 系列１の線の色
		// ２つ目の系列の情報を設定
		var series02name      = "Fail";
		var series02data      = [ failed];
		var series02bgcolor   = "rgba(255, 0, 0, 0.5)";
		var series02linecolor = "rgba(255, 0, 0, 1.0)";
		
		var series03name      = "Untouched";
		var series03data      = [ untouched];
		var series03bgcolor   = "rgba(50, 50, 50, 0.5)";
		var series03linecolor = "rgba(50, 50, 50, 1.0)";
		
		var ymax  = passed + failed + untouched; 
		var ymin  =  0; 
		var ystep = ymax / 10;

		var ctx = document.getElementById(div).getContext("2d");
		var chart = new Chart(ctx, {
		  type: "bar",
		  data: {
		    labels: xlabels,
		    datasets:[
		      {
		        label:           series01name,
		        data:            series01data,
		        backgroundColor: series01bgcolor,
		        borderColor:     series01linecolor,
		        borderWidth:     1,
		      }, 
		      {
		        label:           series02name,
		        data:            series02data,
		        backgroundColor: series02bgcolor,
		        borderColor:     series02linecolor,
		        borderWidth:     1,
		      },
		      {
		        label:           series03name,
		        data:            series03data,
		        backgroundColor: series03bgcolor,
		        borderColor:     series03linecolor,
		        borderWidth:     1,
		      }
		      // ３つ以上系列を描画する場合は上のセットを追加する
		    ]
		  },
		  options: {
			indexAxis: 'y',
		    scales: {
			  x: {
				stacked: true,  
			  },
		      y: {
//		        display:      true,
		        stacked: true,
//		        suggestedMax: ymax,
//		        suggestedMin: ymin,
//		        ticks: {
//		          stepSize: ystep,
//		        },
		      }
		    }
		  },
		  plugins: [ChartDataLabels]
		});		
		
		chart.canvas.parentNode.style.height = '30px';
	}
}