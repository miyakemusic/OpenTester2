package org.opentester.project.entity.mapper;

import java.util.ArrayList;
import java.util.List;

import org.opentester.project.dto.KeyValueDto;

public abstract class DtoMapper<T1, T2> {

	abstract T2 toDto(T1 e);
	abstract T1 toEntity(T2 d);
	
	public List<T2> toDtoList(List<T1> e) {
		List<T2> ret = new ArrayList<>();
		e.forEach(a -> ret.add(toDto(a)));
		return ret;
	}
	
	public List<T1> toEntityList(List<T2> d) {
		List<T1> ret = new ArrayList<>();
		d.forEach(a -> ret.add(toEntity(a)));
		return ret;
	}
	
	protected boolean isNotNull(Object o) {
		if  (o instanceof KeyValueDto) {
			return o != null && ((KeyValueDto)(o)).getKey() != null;
		}
		else {
			return o != null;
		}
	}
	
	protected boolean isNull(List<KeyValueDto> o) {
		return (o == null);
	}
}
