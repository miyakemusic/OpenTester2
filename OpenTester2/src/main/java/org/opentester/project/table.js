<script type="text/javascript" inline="javascript">
$(function() {
	var list = /*[[${list}]]*/;
	for (var i = 0; i < list.length; i++) {
		var p = list[i];
		new ProgressBar(p.id, p.passed, p.failed, p.untouched);
	}	
});
function createNew() {
	var url = '/*[[${url}]]*/';
	var parent = /*[[${parent}]]*/;
	if (parent != null) {
		url += "?parent=" + parent;
	}
	$.ajax({
		url: url,
		type: 'GET',
		dataType: "text", 
	}).done((data, textStatus, jqXHR) => {
		largeDialog.callback(function(){
			updateProjectUI();
		});
		largeDialog.showDialog(data);
		
	}).fail((jqXHR, textStatus, errorThrown) => {

	});	
}

function on_edit_table(id) {
	var parent = /*[[${parent}]]*/;
	var url = '/*[[${url}]]*/'+ '/' + id;

	$.ajax({
		url: url, 
		type: 'GET',
		tdataType: 'html',
	}).done((data, textStatus, jqXHR) => {
		largeDialog.callback(function(){
			updateProjectUI();
		});
		largeDialog.showDialog(data);
//		updateProjectUI();
	}).fail((jqXHR, textStatus, errorThrown) => {
	});
}

function on_delete(id) {
	$.ajax({
		url: '/*[[${url}]]*/'+ '/' + id, 
		type: 'DELETE',
		tdataType: 'text',
	}).done((data, textStatus, jqXHR) => {
		updateProjectUI();
	}).fail((jqXHR, textStatus, errorThrown) => {
	});	
}
</script>